<div class="container col-md-4">
    <br>
    <h1>After-run internal retest</h1>
    <br />
    <p>This creates an internal test after the initial run, it does not communicate the result externally and can only be created on samples that have already been tested and communicated in the last 2 days.</p>
    <br/>
    <%= form_for(:sample, local: true) do |form| %>
    <div class="form-group mx-sm-3 mb-2">
        <%= form.label :id, "Sample" %>
        <%= form.collection_select :id, @retest_samples, :id, :uid, {selected: retest_selected(@query_sample, @retest_samples)}, {class: 'form-control', id:'sampleselect', data: {"live-search" => true}} %>
    </div>
    <div class="form-group mx-sm-3 mb-2">
        <%= form.label :reason, "Reason" %>
        <%= form.select :reason, @reasons, {}, {class: 'form-control'} %>
    </div>
    <div class="form-group mx-sm-3 mb-2">
        <%= form.submit "Create Retest", class: 'btn btn-primary mb-2' %>
    </div>
    <% end %>
    <%= link_to 'Back', samples_path %>
</div>
<script>
    $(document).on('turbolinks:load', () => {
        $('#sampleselect').selectpicker();
    });
</script>